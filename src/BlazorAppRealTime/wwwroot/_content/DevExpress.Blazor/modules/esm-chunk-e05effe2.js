import{x as e,D as t}from"./esm-chunk-dac9ea79.js";class n{constructor(e){this.eventTokens=[],this.context=e}AttachEventWithContext(t,n,s,i){if(!this.eventTokens||!i||!t)return{item:null,name:null,delegate:null,Dispose:function(){}};var o=this,l=s.bind(i);e(t,n,l);var a={item:t,name:n,delegate:l,Dispose:function(){o.DetachEvent(this)}};return this.eventTokens.push(a),a}AttachEvent(e,t,n){return this.AttachEventWithContext(e,t,n,this.context)}DetachEvent(e){if(!this.eventTokens)return null;if(!e||!e.item)return!1;var n=this.eventTokens.indexOf(e);return!!(n&&n>0)&&(t(e.item,e.name,e.delegate),this.eventTokens.splice(n,1),e.item=null,e.delegate=null,e.Dispose=function(){},!0)}Dispose(){return!!this.eventTokens&&(this.eventTokens.forEach((function(e){e.item&&(t(e.item,e.name,e.delegate),e.item=null,e.delegate=null,e.Dispose=function(){})})),this.eventTokens=null,!0)}}export{n as E};
