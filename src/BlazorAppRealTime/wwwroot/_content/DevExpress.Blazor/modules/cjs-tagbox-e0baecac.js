DxBlazorInternal.define("cjs-tagbox-e0baecac.js",(function(e,t,n){e("./cjs-chunk-9eab2df8.js");var o=e("./cjs-chunk-f9f4d45f.js"),s=e("./cjs-chunk-81f2aa27.js"),c=e("./cjs-chunk-315094e9.js"),a=e("./cjs-chunk-98cdd37b.js");e("./cjs-chunk-e26655d2.js");var u=e("./cjs-grid-a2588719.js");e("./cjs-popup-utils-5368aacf.js"),e("./cjs-focus-utils-bddeb19e.js"),e("./cjs-chunk-8f910901.js"),e("./cjs-dragAndDropUnit-9bd835d1.js"),e("./cjs-chunk-8d39b38c.js");var r=e("./cjs-dropdowns-dd756ac8.js"),i=e("./cjs-chunk-d6ceb400.js");function l(e){var t=r.GetDropDownElement(e);u.ScrollToFocusedItem(t)}function d(e,t,n){o.SetInputAttribute(e,"value",t),m(e),n&&function(e){e&&e.select()}(e)}function m(e){e.previousSibling.innerText=""==e.value&&e.placeholder?e.placeholder:e.value}function f(e){e=o.EnsureElement(e),document.activeElement===e&&E(e)}function j(e,t){var n=e.target;v(n,!0),function(e){if(e){var t=o.GetParentByClassName(e,"form-control");t.dataset.bluredClass&&(t.className=t.dataset.bluredClass)}}(n),n.dataset.timerId=window.setTimeout((function(){if(delete n.dataset.timerId,document.activeElement!==n)try{k(t,n)}catch(e){}}),200)}function v(e,t){e.dataset.timerId&&(clearTimeout(e.dataset.timerId),delete e.dataset.timerId),t||window.setTimeout((function(){v(e,!0)}),100)}function E(e){if(e){var t=o.GetParentByClassName(e,"form-control");t.dataset.focusedClass&&(t.className=t.dataset.focusedClass)}}function p(e,t){return t&&i.KeyDown(e),function(e){return y(e)||e.keyCode==a.Key.Enter}(e)&&(e.stopPropagation(),e.preventDefault()),!1}function h(e,t,n,o,s){var c=!1;if(o&&(c=c||i.KeyUp(e)),c=c||function(e){var t=e.altKey&&(e.keyCode==a.Key.Down||e.keyCode==a.Key.Up),n=y(e),o=e.keyCode==a.Key.Esc||e.keyCode==a.Key.Enter,s=function(e){var t=0==e.target.value.length;return e.keyCode==a.Key.Backspace&&t}(e);return t||n||o||s}(e)){var r=e.target.value,l=""!=e.target.dataset.previousValue;if(n&&s){var d=u.GetParametersForVirtualScrollingRequest(n,!1);t.invokeMethodAsync("OnTagBoxListBoxKeyUp",r,e.keyCode,e.altKey,e.ctrlKey,d.requestScrollState.itemHeight,d.requestScrollState.scrollTop,d.requestScrollState.scrollHeight,l)}else t.invokeMethodAsync("OnTagBoxKeyUp",r,e.keyCode,e.altKey,e.ctrlKey,l)}}function y(e){return e.keyCode===a.Key.Down||e.keyCode===a.Key.Up||e.keyCode===a.Key.PageUp||e.keyCode===a.Key.PageDown||e.ctrlKey&&(e.keyCode===a.Key.Home||e.keyCode===a.Key.End)}function k(e,t,n){if(t){var o=(new Date).getTime();t.dataset.lastLostFocusTime&&o-t.dataset.lastLostFocusTime<300&&!n||(t.dataset.lastLostFocusTime=(new Date).getTime(),document.activeElement!=t&&(t.value=""),e.invokeMethodAsync("OnTagBoxLostFocus",t.value))}}function D(e,t){var n=o.EnsureElement(t.mainElement);if(n){s.DisposeEvents(n);var a=o.EnsureElement(t.inputElement),u=r.GetDropDownElement(n),i=function(e){return p(e,t.filteringEnabled)},l=function(n){return h(n,e,u,t.filteringEnabled,t.virtualScrollingEnabled)},d=function(e){return function(e,t){E(e.target)}(e)},f=function(t){return j(t,e)},y=function(e){return m(e.target)},D=function(e){return v(a)},g=function(t){return r.OnOutsideClick(t,n,(function(){o.elementIsInDOM(n)||s.DisposeEvents(n);var t=document.activeElement===a,c=a.dataset.timerId>0,i=u&&r.IsDropDownVisible(u);v(a),(t||c||i)&&k(e,a,!0)}))};return o.AttachEventToElement(a,"keydown",i),o.AttachEventToElement(a,"keyup",l),o.AttachEventToElement(a,"focus",d),o.AttachEventToElement(a,"blur",f),o.AttachEventToElement(a,"input",y),o.AttachEventToElement(n,"mousedown",D),o.AttachEventToElement(document,c.TouchUIHelper.touchMouseDownEventName,g),s.RegisterDisposableEvents(n,(function(){o.DetachEventFromElement(a,"keydown",i),o.DetachEventFromElement(a,"keyup",l),o.DetachEventFromElement(a,"focus",d),o.DetachEventFromElement(a,"blur",f),o.DetachEventFromElement(a,"input",y),o.DetachEventFromElement(n,"mousedown",D),o.DetachEventFromElement(document,c.TouchUIHelper.touchMouseDownEventName,g)})),m(a),Promise.resolve("ok")}}function g(e){if(e=o.EnsureElement(e))return s.DisposeEvents(e),Promise.resolve("ok")}var b={Init:D,Dispose:g,PrepareInputIfFocused:f,ScrollToFocusedItem:l,FitInputWidth:m,ForceInputValue:d};n.Dispose=g,n.FitInputWidth=m,n.ForceInputValue=d,n.Init=D,n.PrepareInputIfFocused=f,n.ScrollToFocusedItem=l,n.default=b}),["cjs-chunk-9eab2df8.js","cjs-chunk-f9f4d45f.js","cjs-chunk-81f2aa27.js","cjs-chunk-315094e9.js","cjs-chunk-98cdd37b.js","cjs-chunk-e26655d2.js","cjs-grid-a2588719.js","cjs-popup-utils-5368aacf.js","cjs-focus-utils-bddeb19e.js","cjs-chunk-8f910901.js","cjs-dragAndDropUnit-9bd835d1.js","cjs-chunk-8d39b38c.js","cjs-dropdowns-dd756ac8.js","cjs-chunk-d6ceb400.js"]);
